Suppose N has m digits.  We can calculate 1-digit numbers to (m - 1)-digit numbers easily.

Then we only need to calculate m-digit numbers. We go through each digit from higher digit. (line 17 to line 31)

Time Complexity O(log N). Space Complexity O(1)