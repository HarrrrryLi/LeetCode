Segement Tree 2D version.  Need to pay attention, sometime it can only becomes left and right or up and bottom instead of 4 directions.


Time Complexity:
Update: O(log R * log C).
Query: O(log R * log C) 

Space Complexity (R* C * log (R * C))