Using Segement Tree. Don't build the whole tree, just create childern when needed.


Time Complexity O(NlogN). Space Complexity O(NlogN). N is the max number in the list.