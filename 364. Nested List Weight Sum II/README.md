use stack. regard root as level 0, and each childern node as parent level - 1. for each integer, result += level * num. Then use total_level * sum - result.

Time Complexity O(n) Space Complexity O(n)